<div class="w-full flex flex-col p-6">

  <h4 class="pb-4">Aplicación de Facturación</h4>

  <div class="mb-4">
    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" (click)="createDTE()">Crear
      Facturación</button>
  </div>

  <div class="w-full flex flex-row  gap-4 justify-end items-center">
    <mat-form-field>
      <mat-label>Fecha Inicio</mat-label>
      <input matInput [matDatepicker]="pickerInicio" [(ngModel)]="startDate">
      <mat-datepicker-toggle matSuffix [for]="pickerInicio"></mat-datepicker-toggle>
      <mat-datepicker #pickerInicio></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Fecha Fin</mat-label>
      <input matInput [matDatepicker]="pickerFin" [(ngModel)]="endDate">
      <mat-datepicker-toggle matSuffix [for]="pickerFin"></mat-datepicker-toggle>
      <mat-datepicker #pickerFin></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Número de Factura</mat-label>
      <input matInput [(ngModel)]="numberDTE">
    </mat-form-field>
    <div class="flex flex-col gap-2">
      <button class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded"
        (click)="resetDTE()">Resetar
        filtro</button>
      <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"
        (click)="searchDTE()">Buscar</button>
    </div>
  </div>

  <div class="table-scroll-container">
    <table mat-table [dataSource]="dataSource" class="custom-table" matSort>

      <ng-container matColumnDef="dtE_number">
        <th class="table-header" mat-header-cell *matHeaderCellDef mat-sort-header>Numero de factura</th>
        <td mat-cell *matCellDef="let row">{{row.dtE_number}}</td>
      </ng-container>

      <ng-container matColumnDef="dtE_date">
        <th class="table-header" mat-header-cell *matHeaderCellDef>Fecha de emision</th>
        <td mat-cell *matCellDef="let row">{{row.dtE_date | date: 'short'}}</td>
      </ng-container>

      <ng-container matColumnDef="issuer_name">
        <th class="table-header" mat-header-cell *matHeaderCellDef>Nombre del emisor</th>
        <td mat-cell *matCellDef="let row">{{row.issuer_name}}</td>
      </ng-container>

      <ng-container matColumnDef="receiver_name">
        <th class="table-header" mat-header-cell *matHeaderCellDef>Nombre del receptor</th>
        <td mat-cell *matCellDef="let row">{{row.receiver_name}}</td>
      </ng-container>

      <ng-container matColumnDef="receiver_nit">
        <th class="table-header" mat-header-cell *matHeaderCellDef>NIT del receptor</th>
        <td mat-cell *matCellDef="let row">{{row.receiver_nit}}</td>
      </ng-container>

      <ng-container matColumnDef="total_amount">
        <th class="table-header" mat-header-cell *matHeaderCellDef>Total factura</th>
        <td mat-cell *matCellDef="let row">{{row.total_amount}}</td>
      </ng-container>

      <!-- Table Headers and Rows -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
    </table>
  </div>

</div>
